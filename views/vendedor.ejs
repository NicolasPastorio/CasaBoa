<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendedor Dashboard</title>
    <!-- Estilos -->
    <link rel="stylesheet" href="/styles/GlobalStyle.css">
    <link rel="stylesheet" href="/styles/mainStyle.css">
    <link rel="stylesheet" href="/styles/styleForm.css">
    <!-- Estilo Personalizado
     <link rel="stylesheet" href="/styles/styleLogin.css"> -->
    <!-- Google material icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<body>
    <div class="main-container">
        <header class="main-logo">
            <h1 class="logo"><img src="/assets/images/logo.webp" alt="Logo do site"></h1>
            <!-- Menu de navegação -->
            <%- include('./layouts/menu'); %>
        </header>
        <div class="main-image"></div>
        <main class="main-content">
            <section class="info-content">
                <h2>Painel do vendedor</h2>
            </section>
            <section class="add-categoria">
                <% if(error_msg) { %> 
                    <p class="error-message"><%= error_msg %></p>
                <% } %>
                <% if(success_msg) { %>
                    <p class="success-message"><%= success_msg %></p>
                <% } %>
                <form id="form" action="/vendedor/categorias" method="POST">
                    <h3 class="title">Adicionar Categoria</h3>
                    <label for="nome">Nome da Categoria</label>
                    <div class="input"><input type="text" name="nome" id="nome" required></div>
                    <div id="btn"><button type="submit">Criar Categoria</button></div>
                </form>
                <!-- Listar as categorias existentes para teste 
                 <h3>Categorias Existentes</h3>
                 <ul>
                    <% categorias.forEach(categoria => { %> 
                        <li><%= categoria.Nome %></li>
                    <% }) %>
                 </ul> -->
            </section>
            <section class="add-imoveis">
                <% if(success_msg){ %>
                    <p class="success-message"><%= success_msg %></p>
                <% } %>
                <% if(error_msg){ %>
                    <p class="error-message"><%= error_msg %></p>
                <% } %>
                <form action="/vendedor/adicionar-imovel" id="form" method="POST" enctype="multipart/form-data">
                    <h3 class="title">Criar Card</h3>
                    <label for="idCategorias">Categoria</label>
                    <select id="idCategorias" name="idCategorias">
                        <% categorias.forEach(categoria => { %> 
                            <option value="<%= categoria.idCategorias %>"><%= categoria.Nome %></option>    
                        <% }) %>
                    </select>
                    <label for="descricaoPrevia">Descrição Prévia</label>
                    <div class="input">
                        <input id="descricaoPrevia" name="descricaoPrevia" type="text" required>
                    </div>
                    <label for="preco">Preço</label>
                    <div class="input">
                        <input id="preco" name="preco" type="number" step="0.01" required>
                    </div>
                    <label for="endereco">Endereço</label>
                    <div class="input">
                        <input id="endereco" name="endereco" type="text">
                    </div>
                    <label for="descricaoDetalhada">Descrição detalhada</label>
                    <div class="input">
                        <textarea name="descricaoDetalhada" id="descricaoDetalhada"></textarea>
                    </div>
                    <label for="imagemPrincipal">Imagem Principal</label>
                    <div class="input">
                        <input id="imagemPrincipal" name="imagemPrincipal" type="file" accept="image/*" required>
                    </div>
                    <label for="imagens"></label>
                    <div class="input">
                        <input id="imagens" name="imagens" type="file" accept="image/*" multiple required>
                    </div>
                    <div id="btn"><button type="submit">Adicionar Imóvel</button></div>
                </form>
            </section>
        </main>
        <!--Footer-->
        <%- include('./layouts/footer'); %>
        <!--Footer-->
    </div> 
</body>
</html>